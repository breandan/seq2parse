% colors from http://colorbrewer2.org/?type=sequential&scheme=Blues&n=3
\definecolor{blue1}{HTML}{DEEBF7}
\definecolor{blue2}{HTML}{9ECAE1}
\definecolor{blue3}{HTML}{3182BD}
\definecolor{green1}{HTML}{E5F5E0}
\definecolor{green2}{HTML}{A1D99B}
\definecolor{green3}{HTML}{31A354}

\begin{figure}[t]
\centering
\begin{tikzpicture}
\begin{axis}[
  ybar stacked,
  width=0.9\linewidth,
  height=8cm,
  % title={Accuracy of Repair Template Prediction},
  ylabel={Accuracy},
  bar width=0.82cm,
  ymin=0.0,
  ymax=100.0,
  ytick={0.0, 10.0, 20.0, 30.0, 40.0, 50.0, 60.0, 70.0, 80.0, 90.0, 100.0},
  yticklabel={\pgfmathparse{\tick}\pgfmathprintnumber{\pgfmathresult}\,\%},
  ytick style={draw=none},
  ymajorgrids = true,
  symbolic x coords={top-10, top-20, top-20-non, top-50, best, best-non},
  enlarge x limits=0.3,
  xtick=data,
  xtick style={draw=none},
  xticklabels={\textsc{Top-10}\xspace, \textsc{Top-20}\xspace, \textsc{Top-20}\xspace, \textsc{Top-50}\xspace, \textsc{Best}\xspace, \textsc{Best}\xspace},
  %x tick label style={rotate=45, anchor=north east},
  x tick label style={font=\small},
  y tick label style={font=\small},
  % reverse legend,
  transpose legend,
  legend style={legend pos = north west, legend columns=2, font=\small},
]

\addplot[draw=black, fill=blue3] coordinates {(top-10, 66.8136601374218) (top-20, 78.13557583837554) (top-20-non, 0.0) (top-50, 91.06416435921102) (best, 75.68454517485387) (best-non, 0.0)};
\addlegendentry{All Samples}
\addplot[draw=black, fill=green3] coordinates {(top-10, 0.0) (top-20, 0.0) (top-20-non, 64.33070866141732) (top-50, 0.0) (best, 0.0) (best-non, 2.5433288893446826)};
\addlegendentry{Non-Popular}

\end{axis}
\end{tikzpicture}
\caption{
  Results of our error production rule prediction classifiers.
}
\label{fig:accuracy-results}
\end{figure}
