\begin{figure}[h]
\small
\begin{minipage}[c]{\linewidth}
  \lstDeleteShortInline{|}
  \[
  \boxed{
  \begin{array}{lcl}
    G              & \defeq  & (N,\ \Sigma,\ P,\ S) \\
    \pcfgsym       & \defeq  & (N,\ \Sigma,\ P,\ S, W) \\
    \midrule
    G'             & \defeq  & (N',\ \Sigma,\ P',\ S') \\
    P'             & \supset & P \\
    N'             & \supset & N \\
    \midrule
    \errorrulessym & \in     & P' \\
    e              & \in    & L(G) \\
    e_{\bot}       & \notin & L(G) \\
    \pairsym      & \defeq & e_{\bot} \times e \\
    \datasetsym   & \defeq & \List{\pairsym} \\
    \midrule
    \ecepsym       & : & e_{\bot} \to \errorrulessym \to e \\
    \learnPCFGsym  & : & \List{e} \to \pcfgsym \\
    \partialsym    & : & \pcfgsym \to e_{\bot} \to t_a  \\
    \midrule
    \trainDLsym    & : & \List{t_a \times \errorrulessym} \to \Model \\
    \predictDLsym  & : & \Model \to t_a \to \errorrulessym \\
    \midrule
    \diffsym       & : & \pairsym \to \errorrulessym \\
    \trainsym      & : & \datasetsym \to \Model \\
    \predictsym    & : & \Model \to e_{\bot} \to \errorrulessym \\
    \midrule
    \systemsym     & : & \datasetsym \to (e_{\bot} \to e) \\
  \end{array}
  }
  \]
  \lstMakeShortInline[mathescape=true]{|}
  \captionof{figure}{
  A high-level API for building a \toolname system that learns parse error
  repair function $e_{\bot} \to e$ from a $\datasetsym$ of program pairs.
  }
  \label{fig:api}
\end{minipage}
\end{figure}
