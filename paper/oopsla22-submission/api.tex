\begin{figure}[t]
\small
\begin{minipage}[t]{0.42\linewidth}
  \lstDeleteShortInline{|}
  \[
  \boxed{
  \begin{array}{lcl}
    G              & \defeq  & (N,\ \Sigma,\ P,\ S) \\
    \pcfgsym       & \defeq  & (N,\ \Sigma,\ P,\ S,\ W) \\
    \midrule
    G'             & \defeq  & (N',\ \Sigma,\ P',\ S') \\
    P'             & \defeq  & P\ \cup\ \errorrulessym \\
    N'             & \defeq  & N\ \cup\ \{S',\ H,\ I\}\ \cup\\
                   &         & \{E_a\ |\ a \in \Sigma\} \\
    \midrule
    e              & \in    & L(G) \\
    e_{\bot}       & \notin & L(G) \\
    \pairsym       & \defeq & e_{\bot} \times e \\
    \datasetsym    & \defeq & \List{\pairsym} \\
  \end{array}
  }
  \]
  \lstMakeShortInline[language=Python, mathescape=true]{|}
\end{minipage}
\begin{minipage}[t]{0.57\linewidth}
  \lstDeleteShortInline{|}
  \[
  \boxed{
  \begin{array}{lcl}
    \ecepsym       & : & \errorrulessym \to e_{\bot} \to e \\
    \learnPCFGsym  & : & G \to \List{e} \to \pcfgsym \\
    \partialsym    & : & \pcfgsym \to e_{\bot} \to t^a  \\
    \midrule
    \trainDLsym    & : & \List{t^a \times \errorrulessym} \to \Model \\
    \predictDLsym  & : & \Model \to t^a \to \errorrulessym \\
    \midrule
    \diffsym       & : & \pairsym \to \errorrulessym \\
    \trainsym      & : & \datasetsym \to \Model \\
    \predictsym    & : & \Model \to G \to e_{\bot} \to \errorrulessym \\
    \midrule
    \systemsym     & : & G \to \datasetsym \to (e_{\bot} \to e) \\
  \end{array}
  }
  \]
  \lstMakeShortInline[language=Python, mathescape=true]{|}
\end{minipage}
\caption{A high-level API for building a \toolname system that learns parse
error repair function $e_{\bot} \to e$ from a $\datasetsym$ of program pairs.}
\label{fig:api}
\end{figure}
